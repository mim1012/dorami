# ===========================================
# Dorami Production Environment Configuration
# ===========================================
# IMPORTANT: Copy this file to .env.production and fill in ALL values
# DO NOT commit .env.production to version control
#
# Required fields are marked with [REQUIRED]
# Optional fields have default values or can be empty

# ===========================================
# General
# ===========================================
NODE_ENV=production
APP_VERSION=1.0.0

# ===========================================
# Domain & URLs [REQUIRED]
# ===========================================
# Your production domain (without protocol)
DOMAIN=your-domain.com

# Frontend URL (used for CORS, redirects)
FRONTEND_URL=https://your-domain.com

# CORS allowed origins (comma-separated)
CORS_ORIGINS=https://your-domain.com,https://www.your-domain.com

# ===========================================
# Database (PostgreSQL) [REQUIRED]
# ===========================================
POSTGRES_USER=dorami_prod
POSTGRES_PASSWORD=REPLACE_WITH_STRONG_PASSWORD_MIN_32_CHARS
POSTGRES_DB=dorami_production

# Full connection URL (auto-generated in docker-compose)
# DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres:5432/${POSTGRES_DB}

# ===========================================
# Redis [REQUIRED]
# ===========================================
REDIS_PASSWORD=REPLACE_WITH_STRONG_PASSWORD_MIN_32_CHARS

# ===========================================
# JWT Authentication [REQUIRED]
# ===========================================
# MUST be at least 64 characters for production
# Generate with: openssl rand -base64 64
JWT_SECRET=REPLACE_WITH_64_BYTE_RANDOM_STRING_USE_OPENSSL_RAND_BASE64_64

# Token expiration
JWT_ACCESS_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# ===========================================
# Encryption [REQUIRED]
# ===========================================
# MUST be exactly 64 hex characters (32 bytes)
# Generate with: openssl rand -hex 32
PROFILE_ENCRYPTION_KEY=REPLACE_WITH_64_HEX_CHARS_USE_OPENSSL_RAND_HEX_32

# ===========================================
# Kakao OAuth [REQUIRED]
# ===========================================
KAKAO_CLIENT_ID=your_kakao_client_id
KAKAO_CLIENT_SECRET=your_kakao_client_secret
KAKAO_CALLBACK_URL=https://your-domain.com/api/v1/auth/kakao/callback

# ===========================================
# Logging
# ===========================================
# Options: error, warn, info, debug
LOG_LEVEL=warn

# ===========================================
# Frontend Build Args [REQUIRED]
# ===========================================
# These are embedded at build time
NEXT_PUBLIC_API_URL=https://your-domain.com/api
NEXT_PUBLIC_WS_URL=https://your-domain.com
NEXT_PUBLIC_CDN_URL=https://your-domain.com/hls

# ===========================================
# Error Tracking (Sentry) [RECOMMENDED]
# ===========================================
SENTRY_DSN=https://xxx@sentry.io/xxx
NEXT_PUBLIC_SENTRY_DSN=https://xxx@sentry.io/xxx

# ===========================================
# Admin Configuration
# ===========================================
# Comma-separated list of admin email addresses
ADMIN_EMAILS=admin@your-domain.com

# ===========================================
# Security
# ===========================================
CSRF_ENABLED=true
DISABLE_CSRF=false

# ===========================================
# Resource Limits (Docker)
# ===========================================
# Adjust based on your server capacity
# POSTGRES_CPU_LIMIT=2
# POSTGRES_MEMORY_LIMIT=2G
# BACKEND_CPU_LIMIT=2
# BACKEND_MEMORY_LIMIT=1G
# FRONTEND_CPU_LIMIT=1
# FRONTEND_MEMORY_LIMIT=512M
