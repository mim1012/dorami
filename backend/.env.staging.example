# ==================================
# Staging Environment Configuration
# ==================================
# This file is a template for staging environment
# Actual secrets should be stored in AWS Secrets Manager

# Application
NODE_ENV=staging
PORT=3001
LOG_LEVEL=info

# Database (AWS RDS PostgreSQL)
# Format: postgresql://username:password@host:port/database?schema=public&connection_limit=20&pool_timeout=30
DATABASE_URL=postgresql://live_commerce_user:CHANGE_ME@staging-db.xxxxx.ap-northeast-2.rds.amazonaws.com:5432/live_commerce_staging?schema=public&connection_limit=20&pool_timeout=30

# Redis (AWS ElastiCache)
REDIS_URL=redis://staging-redis.xxxxx.cache.amazonaws.com:6379
REDIS_HOST=staging-redis.xxxxx.cache.amazonaws.com
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_PUBSUB_URL=redis://staging-redis.xxxxx.cache.amazonaws.com:6379/1
REDIS_ADAPTER_ENABLED=true

# JWT (Generate secure keys for staging)
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=CHANGE_ME_generate_64_byte_random_hex_string
JWT_ACCESS_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# Profile Encryption (AES-256-GCM)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
PROFILE_ENCRYPTION_KEY=CHANGE_ME_generate_32_byte_random_hex_string

# Session
SESSION_TIMEOUT_MINUTES=30

# Rate Limiting
LOGIN_RATE_LIMIT_MAX=5
LOGIN_RATE_LIMIT_WINDOW_MINUTES=15

# Kakao OAuth (Staging App)
KAKAO_CLIENT_ID=your_staging_kakao_client_id
KAKAO_CLIENT_SECRET=your_staging_kakao_client_secret
KAKAO_CALLBACK_URL=https://staging.livecommerce.com/api/v1/auth/kakao/callback

# KakaoTalk Notifications (Staging)
KAKAOTALK_API_KEY=your_staging_kakaotalk_api_key

# Frontend URL
FRONTEND_URL=https://staging.livecommerce.com

# CORS
CORS_ORIGIN=https://staging.livecommerce.com
CORS_ORIGINS=https://staging.livecommerce.com,https://staging-admin.livecommerce.com

# CSRF Protection (Enabled)
DISABLE_CSRF=false
CSRF_ENABLED=true

# Streaming (Staging servers)
RTMP_SERVER_URL=rtmp://staging-rtmp.livecommerce.com:1935/live
HLS_SERVER_URL=https://staging-hls.livecommerce.com/hls

# Admin Whitelist
ADMIN_EMAILS=admin@livecommerce.com,staging-admin@livecommerce.com

# Timers
CART_EXPIRATION_MINUTES=10
RESERVATION_PROMOTION_TIMER_MINUTES=10
ORDER_EXPIRATION_MINUTES=10

# Auth Token TTL
AUTH_BLACKLIST_TTL_SECONDS=900

# Notification Retry Settings
NOTIFICATION_MAX_RETRIES=3
NOTIFICATION_RETRY_DELAY_MS=1000

# Bank Transfer Information
BANK_NAME=우리은행
BANK_ACCOUNT_NUMBER=1002-123-456789
BANK_ACCOUNT_HOLDER=라이브커머스(주)

# Excel Report Settings
EXCEL_HEADER_COLOR=FFE91E63

# Error Tracking (Sentry - Staging)
SENTRY_DSN=https://your_staging_sentry_dsn@sentry.io/project_id
APP_VERSION=1.0.0-staging

# Performance Monitoring (Enabled)
ENABLE_PERFORMANCE_LOGGING=true
SLOW_REQUEST_THRESHOLD_MS=1000

# AWS Region (for Secrets Manager, S3, etc.)
AWS_REGION=ap-northeast-2

# S3 Bucket for File Uploads
S3_BUCKET_NAME=live-commerce-staging-uploads
S3_BUCKET_REGION=ap-northeast-2

# CloudFront Distribution (for CDN)
CLOUDFRONT_DOMAIN=staging-cdn.livecommerce.com

# Application Load Balancer Health Check
HEALTH_CHECK_PATH=/api/health
