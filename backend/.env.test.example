# ==================================
# Test Environment Configuration
# ==================================
# Copy this file to .env.test and customize for your test environment
# This file is used by CI/CD and local E2E tests

# Application
NODE_ENV=test
PORT=3002
LOG_LEVEL=error  # Minimize logs in tests

# Test Database (Separate from development)
# Use docker-compose.test.yml: docker-compose -f docker-compose.test.yml up -d
DATABASE_URL=postgresql://postgres:postgres@localhost:5433/live_commerce_test

# Redis Test Instance
REDIS_URL=redis://localhost:6380
REDIS_HOST=localhost
REDIS_PORT=6380
REDIS_PASSWORD=
REDIS_PUBSUB_URL=redis://localhost:6380/2
REDIS_ADAPTER_ENABLED=false  # Disable for single-server test mode

# JWT (Test Keys - DO NOT use in production)
JWT_SECRET=test_jwt_secret_d23e84b3e48a79c1fe26cc01dd385ccd30e5c37e46f63ac03f7d28d26ee3bfa5
JWT_ACCESS_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# Profile Encryption (Test Key - DO NOT use in production)
PROFILE_ENCRYPTION_KEY=test_encryption_key_a9aebb443b47d5348843dbe95f43c7a5c805c1e1c238e61844aee8044732c4c0

# Session
SESSION_TIMEOUT_MINUTES=30

# Rate Limiting (Disabled for tests)
LOGIN_RATE_LIMIT_MAX=1000
LOGIN_RATE_LIMIT_WINDOW_MINUTES=1

# Kakao OAuth (Test values)
KAKAO_CLIENT_ID=test_kakao_client_id
KAKAO_CLIENT_SECRET=test_kakao_client_secret
KAKAO_CALLBACK_URL=http://localhost:3002/auth/kakao/callback

# KakaoTalk Notifications (Mock)
KAKAOTALK_API_KEY=test_kakaotalk_api_key

# Frontend URL
FRONTEND_URL=http://localhost:3000

# CORS
CORS_ORIGIN=http://localhost:3000
CORS_ORIGINS=http://localhost:3000

# CSRF Protection (Disabled for testing)
DISABLE_CSRF=true
CSRF_ENABLED=false

# Streaming (Test servers)
RTMP_SERVER_URL=rtmp://localhost:1935/live
HLS_SERVER_URL=http://localhost:8080/hls

# Admin Whitelist
ADMIN_EMAILS=admin@test.com,test-admin@test.com

# Timers (Short durations for fast tests)
CART_EXPIRATION_MINUTES=1
RESERVATION_PROMOTION_TIMER_MINUTES=1
ORDER_EXPIRATION_MINUTES=1

# Auth Token TTL
AUTH_BLACKLIST_TTL_SECONDS=900

# Notification Retry (Disabled for tests)
NOTIFICATION_MAX_RETRIES=0
NOTIFICATION_RETRY_DELAY_MS=0

# Bank Transfer Information (Test data)
BANK_NAME=테스트은행
BANK_ACCOUNT_NUMBER=1002-123-456789
BANK_ACCOUNT_HOLDER=테스트계정

# Excel Report Settings
EXCEL_HEADER_COLOR=FFE91E63

# Error Tracking (Disabled for tests)
SENTRY_DSN=
APP_VERSION=test

# Performance Monitoring (Disabled for tests)
ENABLE_PERFORMANCE_LOGGING=false
SLOW_REQUEST_THRESHOLD_MS=5000
